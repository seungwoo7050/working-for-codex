# spring-patterns v1.6 API Gateway

## 프로젝트 개요

### 현재 상태 (v1.5)
- **위치**: `spring-patterns/`
- **기술 스택**: Spring Boot 3.2, Java 21, PostgreSQL
- **아키텍처**: 모놀리스 (MVC)
- **완성된 기능**:
  - REST API
  - Spring Security
  - JPA Repository
  - Docker & Production

### 목표 상태 (v1.6.)
- **목표**: 모놀리스 앞에 API Gateway 추가
- **핵심 변경**: Spring Cloud Gateway 도입

## 버전 로드맵 (v1.6 세부화)

| 버전 | 기간 | 설명 |
|------|------|------|
| v1.6.0 | 1주 | Spring Cloud Gateway 구현 |

---

## v1.6: Spring Cloud Gateway 구현

### 작업 내용
| 순서 | 작업 | 핵심 파일 |
|------|------|----------|
| 1.6.1 | Gateway 의존성 추가 | `build.gradle` |
| 1.6.2 | Gateway 설정 | `GatewayConfig.java` |
| 1.6.3 | 라우팅 규칙 | `application.yml` |
| 1.6.4 | 공통 필터 | `GlobalFilter.java` |
| 1.6.5 | Docker Compose | `docker-compose.yml` |

### 커밋 포인트
```bash
git commit -m "feat(gateway): add Spring Cloud Gateway dependency"
git commit -m "feat(gateway): implement basic routing configuration"
git commit -m "feat(gateway): add global filters for logging and security"
git commit -m "feat(gateway): update docker compose for gateway service"
```

### 마이그레이션 노트
- 기존 API 엔드포인트: `http://localhost:8080/api/*`
- Gateway 적용 후: `http://localhost:8081/api/*`
- 프론트엔드 변경 불필요 (엔드포인트 동일)

#### 기존 REST API 코드 처리
- **필수 유지**: 기존 컨트롤러/서비스 코드는 변경 없이 그대로 유지
- **권장 제거**: `@CrossOrigin` 어노테이션 제거 (Gateway에서 CORS 처리)
- **선택 최적화**: JWT 검증 로직을 Gateway GlobalFilter로 이동 가능
- **포트 분리**: 백엔드 내부 포트(8080), Gateway 외부 포트(8081)